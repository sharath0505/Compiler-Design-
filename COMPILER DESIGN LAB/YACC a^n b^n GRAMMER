%{
#include "y.tab.h"
%}
%%
a return A;
b return B;
.|\n return yytext[0];
%%
Yacc Part :

1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
%{
#include<stdio.h>
int valid=1;
%}
%token A B
%%
str:S'\n' {return 0;}
S:A S B
 |
 ;
%%
main()
{
   printf("Enter the string:\n");
   yyparse();
   if(valid==1)
   printf("\nvalid string");
}
Sample Input/Output :

$ lex prog5b.l
$ yacc -d prog5b.y
$ cc -c lex.yy.c y.tab.c
$ cc -o a.out lex.yy.o y.tab.o -lfl
$ ./a.out
Enter the string: aaaabb
Invalid string
$ ./a.out
Enter the string: aaabbb
Valid string